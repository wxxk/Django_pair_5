# Django Pair Project 3

### 20221014 KDT - ì‹¤ë¬´ ë§ì¶¤í˜• í’€ìŠ¤íƒ 1ê¸° 1íšŒì°¨ ì´ìƒìš± @wxxk

>- íšŒì›ê°€ì…, ë¡œê·¸ì¸, íšŒì› ëª©ë¡ ì¡°íšŒ, íšŒì› ì •ë³´ ì¡°íšŒ, íšŒì› ì •ë³´ ìˆ˜ì •, ë¡œê·¸ì•„ì›ƒ

### ëª©ì°¨

| ë‚´ìš©                            |
| ------------------------------- |
| [í”„ë¡œì íŠ¸ì†Œê°œ](#í”„ë¡œì íŠ¸ì†Œê°œ) |
| [ì½”ë“œêµ¬í˜„](#ì½”ë“œêµ¬í˜„)           |
| [ì½”ë“œì‹¤í–‰](#ì½”ë“œì‹¤í–‰)           |
| [ë°°ìš´ì ](#ë°°ìš´ì )             |



### í”„ë¡œì íŠ¸ì†Œê°œ

---

- #### ëª©ì 

  >í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ í†µí•œ ì˜í™” ë¦¬ë·° ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ ê°œë°œ
  >
  >- CRUD êµ¬í˜„
  >- Staticfiles í™œìš© ì •ì  íŒŒì¼(ì´ë¯¸ì§€, CSS, JS) ë‹¤ë£¨ê¸°
  >- Django Auth í™œìš© íšŒì› ê´€ë¦¬(íšŒì›ê°€ì… / íšŒì›ì¡°íšŒ / ë¡œê·¸ì¸ / ë¡œê·¸ì•„ì›ƒ)



- #### ê°œë°œ í™˜ê²½

  > ì–¸ì–´ : HTML, CSS, Python, JavaScript
  >
  > í”„ë ˆì„ì›Œí¬ : Django



### ì½”ë“œêµ¬í˜„

---

> ### 1. íšŒì›ê°€ì…
>
> >ì•± App
> >
> >ì•± ì´ë¦„ : accounts
> >
> >ëª¨ë¸ Model
> >
> >ëª¨ë¸ ì´ë¦„ : User
>
> - Django **AbstractUser** ëª¨ë¸ ìƒì†
>
> **í¼ Form**
>
> - Django ë‚´ì¥ íšŒì›ê°€ì… í¼ UserCreationFormì„ ìƒì† ë°›ì•„ì„œ CustomUserCreationForm ì‘ì„±
> - í•´ë‹¹ í¼ì€ ì•„ë˜ í•„ë“œë§Œ ì¶œë ¥í•©ë‹ˆë‹¤.
>   - username
>   - first_name
>   - last_name
>   - password1
>   - password2
>   - email
>
> **ê¸°ëŠ¥ View**
>
> - íšŒì›ê°€ì…	
>
>   - `POST` http://127.0.0.1:8000/accounts/signup/
>
>   - CustomUserCreationFormì„ í™œìš©í•´ì„œ íšŒì›ê°€ì… êµ¬í˜„
>
> **í™”ë©´ Template**
>
> - íšŒì›ê°€ì… í˜ì´ì§€
>
>   - `GET` http://127.0.0.1:8000/accounts/signup/
>
>   - íšŒì›ê°€ì… í¼
>
> 
>
> ------
>
> ### 2. ë¡œê·¸ì¸
>
> **í¼ Form**
>
> - ë¡œê·¸ì¸
>   - Django ë‚´ì¥ ë¡œê·¸ì¸ í¼ **AuthenticationForm í™œìš©**
>
> **ê¸°ëŠ¥ View**
>
> - ë¡œê·¸ì¸
>
>   - `POST` http://127.0.0.1:8000/accounts/login/
>
>   - **AuthenticationForm**ë¥¼ í™œìš©í•´ì„œ ë¡œê·¸ì¸ êµ¬í˜„
>
> **í™”ë©´ Template**
>
> - ë¡œê·¸ì¸ í˜ì´ì§€
>
>   - `GET` http://127.0.0.1:8000/accounts/login/
>
>   - ë¡œê·¸ì¸ í¼
>
>   - íšŒì›ê°€ì… í˜ì´ì§€ ì´ë™ ë²„íŠ¼
>
> 
>
> ------
>
> ### 3. íšŒì› ëª©ë¡ ì¡°íšŒ
>
> **ê¸°ëŠ¥ View**
>
> - íšŒì› ëª©ë¡ ì¡°íšŒ
>   - `GET` http://127.0.0.1:8000/accounts/
>   - is_superuserë¥¼ í™œìš©í•´ì„œ ê´€ë¦¬ìë§Œ ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„
>
> **í™”ë©´ Template**
>
> - íšŒì› ëª©ë¡ í˜ì´ì§€
>
>   - `GET` http://127.0.0.1:8000/accounts/
>
>   - íšŒì› ëª©ë¡ ì¶œë ¥
>
>   - íšŒì› ì•„ì´ë””ë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ íšŒì› ì¡°íšŒ í˜ì´ì§€ë¡œ ì´ë™
>
> 
>
> 
>
> ---
>
> ### 4. íšŒì› ì •ë³´ ì¡°íšŒ(ì‚¬ìš©ì)
>
> **ê¸°ëŠ¥ View**
>
> - íšŒì› ì •ë³´ ì¡°íšŒ
>   - `GET` http://127.0.0.1:8000/accounts/<int:pk>/
>
> **í™”ë©´ Template**
>
> - íšŒì› ì¡°íšŒ í˜ì´ì§€(í”„ë¡œí•„ í˜ì´ì§€)
>   - `GET` http://127.0.0.1:8000/accounts/<int:pk>/
>
> 
>
> 
>
> ------
>
> ### 5. íšŒì› ì •ë³´ ìˆ˜ì •
>
> **í¼ Form**
>
> - íšŒì› ì •ë³´ ìˆ˜ì •
>   - Django ë‚´ì¥ íšŒì› ìˆ˜ì • í¼ UserChangeFormì„ ìƒì† ë°›ì•„ì„œ **CustomUserChangeForm** ì‘ì„±
>   - í•´ë‹¹ í¼ì€ ì•„ë˜ í•„ë“œë§Œ ì¶œë ¥í•©ë‹ˆë‹¤.
>     - last_name
>     - first_name
>     - email
>
> **ê¸°ëŠ¥ View**
>
> íšŒì› ì •ë³´ ìˆ˜ì •
>
> - `POST` http://127.0.0.1:8000/accounts/update/
>
> **í™”ë©´ Template**
>
> íšŒì› ì •ë³´ ìˆ˜ì • í˜ì´ì§€
>
> - `GET` http://127.0.0.1:8000/accounts/update/
>
> 
>
> ------
>
> ### 6. ë¡œê·¸ì•„ì›ƒ
>
> **ê¸°ëŠ¥ View**
>
> - ë¡œê·¸ì•„ì›ƒ
>
>   - **AuthenticationForm**ë¥¼ í™œìš©í•´ì„œ ë¡œê·¸ì•„ì›ƒ êµ¬í˜„
>
>   - `POST` http://127.0.0.1:8000/accounts/logout/
>
> 
>
> ------
>
> ### 7.  íŒ”ë¡œìš°
>
> ##### ê¸°ëŠ¥ view
>
> íŒ”ë¡œìš°
>
> - `POST` http://127.0.0.1:8000/accounts/follow/
>
> 
>
> ### 8. ë„¤ë¹„ê²Œì´ì…˜ë°”
>
> **í™”ë©´ Template**
>
> - **ë„¤ë¹„ê²Œì´ì…˜ë°”**
>
>   - ë¦¬ë·° ëª©ë¡ í˜ì´ì§€ ì´ë™ ë²„íŠ¼
>
>   - ë¦¬ë·° ì‘ì„± í˜ì´ì§€ ì´ë™ ë²„íŠ¼
>
>   - ë¹„ë¡œê·¸ì¸ ìœ ì €ëŠ” ì‘ì„± ë²„íŠ¼ í´ë¦­ì‹œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™
>
>   - ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¸ í™”ë©´ ì¶œë ¥
>     1. ë¡œê·¸ì¸ ìƒíƒœ
>        - ë¡œê·¸ì¸ í•œ ì‚¬ìš©ìì˜ username ì¶œë ¥
>          - íšŒì›ì •ë³´ë¥¼ í´ë¦­í•˜ë©´ íšŒì› ì •ë³´ ì¡°íšŒ(ì‚¬ìš©ì) í˜ì´ì§€ë¡œ ì´ë™
>          - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼
>     2. ë¹„ ë¡œê·¸ì¸ ìƒíƒœ
>        - ë¡œê·¸ì¸ í˜ì´ì§€ ì´ë™ ë²„íŠ¼
>        - íšŒì›ê°€ì… í˜ì´ì§€ ì´ë™ ë²„íŠ¼
>
> 
>
> ------
>
> ### 9. ë¦¬ë·° ìƒì„±
>
> **ì•± App**
>
> ì•± ì´ë¦„ : reviews
>
> ëª¨ë¸ Model
>
> ëª¨ë¸ ì´ë¦„ : Review
>
> - ëª¨ë¸ í•„ë“œ
>
>   | ì´ë¦„       | ì—­í•           | í•„ë“œ           | ì†ì„±              |
>   | ---------- | ------------- | -------------- | ----------------- |
>   | title      | ë¦¬ë·° ì œëª©     | Char           |                   |
>   | content    | ë¦¬ë·° ë‚´ìš©     | Text           |                   |
>   | movie_name | ì˜í™” ì´ë¦„     | Char           |                   |
>   | grade      | ì˜í™” í‰ì      | Char           |                   |
>   | created_at | ë¦¬ë·° ìƒì„±ì‹œê°„ | DateTime       | auto_now_add=True |
>   | updated_at | ë¦¬ë·° ìˆ˜ì •ì‹œê°„ | DateTime       | auto_now = True   |
>   | image      | ì´ë¯¸ì§€        | ProcessedImage |                   |
>   | user       | ìœ ì €          | ForeignKey     |                   |
>   | like_users | ì¢‹ì•„ìš”        | ManyToMany     |                   |
>
> 
>
> **ê¸°ëŠ¥ View**
>
> ë°ì´í„° ìƒì„±
>
> - `POST` http://127.0.0.1:8000/reviews/create/
>
> **í™”ë©´ Template**
>
> **ë¦¬ë·° ì‘ì„± í˜ì´ì§€**
>
> - `GET` http://127.0.0.1:8000/reviews/create/
> - ë¦¬ë·° ì‘ì„± í¼
>
> 
>
> ------
>
> ### 10. ë¦¬ë·° ëª©ë¡ ì¡°íšŒ
>
> **ê¸°ëŠ¥ View**
>
> - ë°ì´í„° ëª©ë¡ ì¡°íšŒ
>   - `POST` http://127.0.0.1:8000/reviews/
>
> **í™”ë©´ Template**
>
> - ë¦¬ë·° **ëª©ë¡ í˜ì´ì§€**
>
>   - `GET` http://127.0.0.1:8000/reviews/
>
>   - ë¦¬ë·° ëª©ë¡ ì¶œë ¥
>
>   - ë”ë³´ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ë¦¬ë·°ì˜ ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™
>
> 
>
> ------
>
> ### 11. ë¦¬ë·° ì •ë³´ ì¡°íšŒ
>
> **ê¸°ëŠ¥ View**
>
> - ë°ì´í„° ì •ë³´ ì¡°íšŒ
>   - `GET` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/
>
> **í™”ë©´ Template**
>
> - **ë¦¬ë·° ì •ë³´ í˜ì´ì§€**
>
>   - `GET` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/
>
>   - í•´ë‹¹ ë¦¬ë·° ì •ë³´ ì¶œë ¥
>
>   - ìˆ˜ì • / ì‚­ì œ / ë’¤ë¡œê°€ê¸° ë²„íŠ¼ 
>
> 
>
> ------
>
> ### 12. ë¦¬ë·° ì •ë³´ ìˆ˜ì •
>
> **ê¸°ëŠ¥ View**
>
> - ë°ì´í„° ìˆ˜ì •
>   - `POST` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/update/
>
> **í™”ë©´ Template**
>
> - **ë¦¬ë·° ìˆ˜ì • í˜ì´ì§€**
>
>   - `GET` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/update/
>
>   - ë¦¬ë·° ìˆ˜ì • í¼
>   - ë’¤ë¡œê°€ê¸° ë²„íŠ¼
>
> 
>
> ------
>
> ### 13. ë¦¬ë·° ì‚­ì œ
>
> **ê¸°ëŠ¥ View**
>
> - ë°ì´í„° ì‚­ì œ
>   - `POST` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/delete/
>
>  
>
> ------
>
> ### 14. ëŒ“ê¸€ ìƒì„±
>
> **ê¸°ëŠ¥ View**
>
> - ëŒ“ê¸€ ìƒì„±
>   - `POST` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/comments/
>
> **í™”ë©´ Template**
>
> - ë¦¬ë·° **ëª©ë¡ í˜ì´ì§€**
>
>   - `GET` http://127.0.0.1:8000/reviews/
>   - ëŒ“ê¸€ ëª©ë¡ ì¶œë ¥
>
>  
>
> ------
>
> ### 15. ëŒ“ê¸€ ì‚­ì œ
>
> **ê¸°ëŠ¥ View**
>
> - ëŒ“ê¸€ ìƒì„±
>   - `POST` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/comments/delete/
>
> **í™”ë©´ Template**
>
> - ë¦¬ë·° **ëª©ë¡ í˜ì´ì§€**
>
>   - `GET` http://127.0.0.1:8000/reviews/[int:review_pk](int:review_pk)/comments/delete/
>   - ëŒ“ê¸€ ì‚­ì œ
>
> 
>
> ### 16. ì¢‹ì•„ìš” ìƒì„±
>
> **ê¸°ëŠ¥ View**
>
> - ì¢‹ì•„ìš” ìƒì„±
>   - `POST` http://127.0.0.1:8000/reviews/likes
>
> **í™”ë©´ Template**
>
> - ë¦¬ë·° **ëª©ë¡ í˜ì´ì§€**
>
>   - `GET` http://127.0.0.1:8000/reviews/likes
>   - ì¢‹ì•„ìš” ìƒì„±



### ì½”ë“œì‹¤í–‰

---

![bandicam-2022-10-30-23-33-30-943](README.assets/bandicam-2022-10-30-23-33-30-943-16671418467512.gif)



### ë°°ìš´ì 

---

### Heroku ì„¤ì¹˜ & ë¡œê·¸ì¸

##### 1. Heroku CLI ì„¤ì¹˜

##### 2. [í„°ë¯¸ë„] Heroku ì„¤ì¹˜ í™•ì¸

```bash
heroku --version

# ì•„ë˜ ë©”ì„¸ì§€ê°€ ì¶œë ¥ë˜ë©´ ì •ìƒ
# heroku/7.65.0 darwin-x64 node-v14.19.0
```

### ë°°í¬ ì¤€ë¹„

##### 1. [í„°ë¯¸ë„] íŒ¨í‚¤ì§€ ì„¤ì¹˜

âš ï¸ ê°€ìƒ í™˜ê²½ì´ ì‹¤í–‰ëœ ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

```bash
pip install gunicorn 
pip install dj-database-url # PostgreSQL ì„¤ì •ìš© íŒ¨í‚¤ì§€
pip install psycopg2-binary # PostgreSQL ì„¤ì •ìš© íŒ¨í‚¤ì§€
pip install whitenoise # ì •ì  íŒŒì¼ ì²˜ë¦¬ìš© íŒ¨í‚¤ì§€
pip install python-dotenv # í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ íŒ¨í‚¤ì§€

pip freeze > requirements.txt # íŒ¨í‚¤ì§€ ëª©ë¡ ì €ì¥
```



##### 2. [Procfile] Procfile

â“ Procfile í—¤ë¡œì¿ ê°€ ë°°í¬ ê³¼ì •ì— ì‹¤í–‰í•  ëª…ë ¹ì–´ ëª¨ìŒ íŒŒì¼

 ğŸ§‘â€ğŸ’» [manage.py](http://manage.py) ê°€ ìˆëŠ” í´ë”ì— **`Procfile`**(ëŒ€ì†Œë¬¸ì êµ¬ë¶„) ìƒì„±í•˜ê³  ì•„ë˜ ëª…ë ¹ì–´ ì‘ì„± í”„ë¡œì íŠ¸ëª… â†’ django-admin startproject `[í”„ë¡œì íŠ¸ëª…]`

í”„ë¡œì íŠ¸ëª… ì‘ì„±

```
web: gunicorn [í”„ë¡œì íŠ¸ëª…].wsgi --log-file -
```

ì˜ˆì‹œ

```
web: gunicorn pjt.wsgi --log-file -
```



##### 3. [runtime.txt] runtime.txt ìƒì„±

â“ runtime.txt í—¤ë¡œì¿ ê°€ ì‚¬ìš©í•´ì•¼í•  íŒŒì´ì¬ ë²„ì „ ëª…ì‹œ

ğŸ§‘â€ğŸ’» [manage.py](http://manage.py) ê°€ ìˆëŠ” í´ë”ì— **`runtime.txt`** ìƒì„± í›„ ë²„ì „ ì‘ì„±

íŒŒì´ì¬ ë²„ì „ ì‘ì„±

```
python-3.9.15
```



##### 4. [[settings.py](http://settings.py)] ë°ì´í„°ë² ì´ìŠ¤ PostgreSQL ì„¤ì •

â“ PostgreSQL ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì¤‘ í•˜ë‚˜ë¡œ í—¤ë¡œì¿ ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ í—¤ë¡œì¿ ì—ì„œëŠ” SQLiteë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

ğŸ§‘â€ğŸ’» [[settings.py](http://settings.py)] DATABASES ì•„ë˜ì— ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```python
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.sqlite3",
        "NAME": BASE_DIR / "db.sqlite3",
    }
}

"""
ê¸°ì¡´ DATABASES ì½”ë“œ ì•„ë˜ì— ì•„ë˜ ì„¸ ì¤„ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
"""
import dj_database_url

db_from_env = dj_database_url.config(conn_max_age=500)
DATABASES["default"].update(db_from_env)
```



##### 5. [.env / [settings.py](http://settings.py)] SECRET_KEY ë¶„ë¦¬

â“ SECRET_KEY Django ì¸ì¦(íšŒì›ê°€ì…, ë¡œê·¸ì¸ ë“±ë“±) ê³¼ì •ì— í•„ìš”í•œ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ë©´ ì•ˆë˜ëŠ” ë¹„ë°€í‚¤ì…ë‹ˆë‹¤.

ğŸ§‘â€ğŸ’» [Djecrety.ir](http://Djecrety.ir) ì—ì„œ ìƒˆë¡œìš´ SECRET_KEYë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. manage.pyê°€ ìˆëŠ” í´ë”ì—`.env` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

[.env] ìƒì„±í•œ SECRET_KEYë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

[Djecrety](https://djecrety.ir/)

```
# .env
SECRET_KEY="ìƒì„±í•œ SECRET_KEY"

# ì˜ˆì‹œ
# SECRET_KEY="$o5(+um4@+4g#3pp_zj-+b3vx99qbecllpsr%wh-d&hk(d=he@"
```

âš ï¸ .env íŒŒì¼ì„ `.gitignore`ì— ì¶”ê°€í•©ë‹ˆë‹¤.

ğŸ§‘â€ğŸ’» [[settings.py](http://settings.py)] SECRET_KEY ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.

```python
"""
ê¸°ì¡´
SECRET_KEY = "..."
"""

# ìˆ˜ì •
"""
ì•„ë˜ 3ì¤„ì€ íŒŒì¼ ìµœìƒë‹¨ì— ì‘ì„±í•©ë‹ˆë‹¤.
"""
from dotenv import load_dotenv
import os
load_dotenv() # .env íŒŒì¼ì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.

# ê¸°ì¡´ SECRET_KEY ëŒ€ì‹  ì‚¬ìš©í•©ë‹ˆë‹¤.
SECRET_KEY = os.getenv("SECRET_KEY")
```



##### 6. [[settings.py](http://settings.py)] ALLOWED_HOSTS ì„¤ì •

 â“ ALLOWED_HOSTS ì„œë¹„ìŠ¤ ì ‘ì†ì„ í—ˆìš©í•  ë„ë©”ì¸(ì£¼ì†Œ) ëª©ë¡ì…ë‹ˆë‹¤.

 ğŸ§‘â€ğŸ’»[[settings.py](http://settings.py)] ALLOWED_HOSTSì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

```python
"""
# ê¸°ì¡´
ALLOWED_HOSTS = []
ë˜ëŠ”
ALLOWED_HOSTS = ['*']
"""

# ìˆ˜ì •
ALLOWED_HOSTS = ["127.0.0.1", "localhost", ".herokuapp.com"]
```



##### 7. [[settings.py](http://settings.py) / .env] DEBUG ì„¤ì •

â“ DEBUG ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì˜¤ë¥˜ ì›ì¸ ì¶œë ¥(ë…¸ë€ í™”ë©´) ì—¬ë¶€ì— ëŒ€í•´ ê²°ì •í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë˜ë©´ ì•ˆ ë˜ëŠ” ì •ë³´ë“¤ì´ ë§ì´ í¬í•¨ëœ í™”ë©´ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ *ë°°í¬ í™˜ê²½*ì—ì„œëŠ” DEBUG ì˜µì…˜ì„ ë¹„í™œì„±í™”(*False*) ì‹œí‚µë‹ˆë‹¤.

ğŸ§‘â€ğŸ’» í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•´ ê°œë°œ í™˜ê²½(True)ê³¼ ë°°í¬ í™˜ê²½(False)ì—ì„œ ë‹¤ë¥¸ ê°’ì´ í• ë‹¹ë˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. [[settings.py](http://settings.py)] DEBUG ê°’ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

```python
"""
# ê¸°ì¡´ 
DEBUG = True
"""

# ìˆ˜ì •
# í™˜ê²½ ë³€ìˆ˜ì—ì„œ ê°€ì ¸ì˜¨ DEBUG ê°’ì´
# (ê°œë°œ í™˜ê²½) "True" ë¼ë©´ DEBUGì— True ê°€ í• ë‹¹ë©ë‹ˆë‹¤.
# (ë°°í¬ í™˜ê²½) "False" ë¼ë©´ DEBUGì— False ê°€ í• ë‹¹ë©ë‹ˆë‹¤.
DEBUG = os.getenv("DEBUG") == "True"
```

ğŸ§‘â€ğŸ’» [.env] DEBUG ê°’ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```
SECRET_KEY="..."

DEBUG="True"
```



##### 8. [[settings.py](http://settings.py)] STATIC_ROOT ì„¤ì •

â“ STATIC_ROOT

ë°°í¬ ì´ì „ì—ëŠ” Djangoê°€ ê° ì•±ì˜ static í´ë”ì—ì„œ ì •ì  íŒŒì¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ë°°í¬ ì´í›„ì—ëŠ” ì •ì  íŒŒì¼ì— ëŒ€í•œ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì •ì  íŒŒì¼ ì²˜ë¦¬ë¥¼ ìœ„í•´ íŒŒì¼ì„ ëª¨ì•„ì•¼ í•˜ëŠ”ë°(python [manage.py](http://manage.py) collectstatic) STATIC_ROOTì— í• ë‹¹ëœ ê²½ë¡œì— íŒŒì¼ì´ ëª¨ì…ë‹ˆë‹¤.

ğŸ§‘â€ğŸ’» [[settings.py](http://settings.py)] STATIC_ROOTë¥¼ ìƒì„±í•˜ê³ , ê²½ë¡œë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.

```python
"""
STATIC_URL = '/static/'
STATIC_URL ì•„ë˜ì— ì‘ì„±í•©ë‹ˆë‹¤.
"""

STATIC_ROOT = BASE_DIR / "staticfiles"
```



##### 9. [[settings.py](http://settings.py)] whitenoise ì„¤ì •

â“ whitenoise ì •ì (static) íŒŒì¼ì„ ì‚¬ìš©ìì—ê²Œ ì œê³µí•´ì£¼ëŠ” íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. DEBUG = False ì¼ ë•Œ ì¥ê³ ëŠ” ì •ì  íŒŒì¼ì„ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì •ì  íŒŒì¼ ì œê³µì„ whitenoiseê°€ ëŒ€ì‹  ë‹´ë‹¹ í•©ë‹ˆë‹¤.

ğŸ§‘â€ğŸ’» [[settings.py](http://settings.py)] MIDDLEWARE ë¦¬ìŠ¤íŠ¸ì˜ `SecurityMiddleware` ì•„ë˜ì— ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. *SecurityMiddleware*ëŠ” ê¸°ì¡´ì— ì‘ì„± ë˜ì–´ ìˆëŠ” Middleware ì…ë‹ˆë‹¤. *SecurityMiddleware*ë¥¼ ì¶”ê°€í•˜ì§€ ì•Šë„ë¡ í•©ì‹œë‹¤.

```python
MIDDLEWARE = [
		"""
		SecurityMiddlewareëŠ” ì¶”ê°€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
		SecurityMiddlewareëŠ” ê¸°ì¡´ì— ìˆëŠ” ì½”ë“œì…ë‹ˆë‹¤.
		"""
    "django.middleware.security.SecurityMiddleware",

		# SecurityMiddleware ì•„ë˜ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
    "whitenoise.middleware.WhiteNoiseMiddleware",

		# ... ì´í•˜ ìƒëµ
]
```



##### í™•ì¸ì‚¬í•­

âš ï¸ ìƒì„±í•œ íŒŒì¼ë“¤(Procfile, runtime.txt, .env)ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ìˆëŠ”ì§€ íŒŒì¼ ì´ë¦„ì´ ì •í™•í•œì§€ í™•ì¸í•´ì£¼ì„¸ìš”.

![í™”ë©´ ìº¡ì²˜ 2022-10-30 235023](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235023.png)

âš ï¸ .gitignore ì— .env / db.sqlite3 ê°€ ë“±ë¡ëœ ìƒíƒœì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.

âš ï¸ íŒ¨í‚¤ì§€ ëª©ë¡ì„ ì €ì¥ í–ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.



### ë°°í¬

##### 1. Heroku ë¡œê·¸ì¸

1. [í„°ë¯¸ë„] ëª…ë ¹ì–´ ì…ë ¥

   ```bash
   heroku login
   ```

2. [í„°ë¯¸ë„] ì›¹ ë¡œê·¸ì¸

   ì•„ë˜ ìƒíƒœì—ì„œ ì•„ë¬´ í‚¤ë‚˜ ì…ë ¥í•˜ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ê°€ ì—´ë¦½ë‹ˆë‹¤.

   ![í™”ë©´ ìº¡ì²˜ 2022-10-30 235122](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235122.png)

3. [ë¸Œë¼ìš°ì €] Log In ë²„íŠ¼ í´ë¦­

   ![í™”ë©´ ìº¡ì²˜ 2022-10-30 235148](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235148.png)

4. [ë¸Œë¼ìš°ì €] ë¡œê·¸ì¸ ì™„ë£Œ í™•ì¸, ì°½ ë‹«ê¸°

   ![í™”ë©´ ìº¡ì²˜ 2022-10-30 235215](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235215.png)

5. [í„°ë¯¸ë„] ë¡œê·¸ì¸ ì„±ê³µ ë©”ì„¸ì§€ í™•ì¸

   ![í™”ë©´ ìº¡ì²˜ 2022-10-30 235235](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235235.png)

### 2. [í„°ë¯¸ë„] Heroku ì•± ìƒì„±

```bash
# ì•± ì´ë¦„ì„ ì •í•´ì„œ ëœë¤ìœ¼ë¡œ ì •í•´ì„œ ìƒì„±í•´ì¤ë‹ˆë‹¤.
heroku create
```

### 3. [í„°ë¯¸ë„] í—¤ë¡œì¿  í™˜ê²½(ë°°í¬ í™˜ê²½)ì—ì„œì˜ í™˜ê²½ ë³€ìˆ˜(env) ë“±ë¡

1. [ë¸Œë¼ìš°ì €] í—¤ë¡œì¿  ëŒ€ì‰¬ë³´ë“œ ì ‘ì†

   [Heroku](https://dashboard.heroku.com/apps/)

2. [ë¸Œë¼ìš°ì €] ìƒì„±í•œ ì•± ëŒ€ì‰¬ë³´ë“œ ì ‘ì†

3. [ë¸Œë¼ìš°ì €] Settings - Reveal Config Vars í´ë¦­

![í™”ë©´ ìº¡ì²˜ 2022-10-30 235306](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235306.png)

d. DEBUG = False ì…ë ¥ â†’ Add í´ë¦­ / SECRET_KEY = ìƒì„±í•œ SECRET_KEY ì…ë ¥ â†’ Add í´ë¦­

![í™”ë©´ ìº¡ì²˜ 2022-10-30 235342](README.assets/í™”ë©´ ìº¡ì²˜ 2022-10-30 235342.png)



##### 4. [í„°ë¯¸ë„] ë°°í¬

```bash
git add .

git commit -m "Commit Message"

# ë¡œì»¬ master ë¸Œëœì¹˜ -> í—¤ë¡œì¿  ì €ì¥ì†Œ master ë¸Œëœì¹˜
git push heroku master
```

##### 5. [í„°ë¯¸ë„] ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´íŠ¸
heroku run python manage.py migrate

# ê´€ë¦¬ì ê³„ì • ìƒì„±
heroku run python manage.py createsuperuser
```

##### 6. [í„°ë¯¸ë„] ì›¹ì‚¬ì´íŠ¸ ì—´ê¸°

```bash
heroku open
```



### ì¬ë°°í¬

ğŸ§‘â€ğŸ’» git add - commit - push heroku masterë¥¼ í•©ë‹ˆë‹¤. makemigrationsë¥¼ í–ˆë‹¤ë©´ migrate



